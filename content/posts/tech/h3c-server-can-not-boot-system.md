---
title: "H3C服务器装完系统无法引导" 
date: 2021-08-01
lastmod: 2021-08-01
tags: 
- linux
- 故障处理
keywords:
- linux
- 服务器
- raid
- H3C
description: "记录一下在H3C服务器上系统无法引导的问题的解决" 
cover:
    image: "" 
---
前端时间在国家信息中心的一个项目上需要在 H3C 服务器上安装操作系统然后配置一套 spring boot 项目，结果在装操作系统过程中就遇到了问题：安装完操作系统后无法自动引导，只能通过重启服务器按 F7 进入引导选项，选择对应的逻辑盘才能正常引导

服务器有7块物理磁盘，前两块是 600 GB 的机械盘，后五块是 1T 的机械盘，前两块 600GB 的盘做了 raid1 ，剩下的5块盘，选择 n+2 做 raid6 。

规划是这样的，操作系统安装在 raid6 上，raid1 那块逻辑磁盘等系统安装完后再进行挂载，用作业务的数据备份。

安装完之后却发现有很多台系统引导不起来，必须手动引导，只有一台可以重启后直接进入系统。为了快速解决问题，还是第一时间联系了 H3C 的售后开工单解决，结果不言而喻，业务水平堪忧，并没有解决。不过也给我提供了一些思路。

整理一下思路：

- 出现问题之后更换安装介质重新安装了两次，问题都是一样的
- 系统安装这块操作肯定没问题，那问题就出在硬件上面了

开始寻找硬件上面的问题，服务器都是全新的，只是做了 raid 。询问了下做raid的同事，看可以正常引导的服务器和非正常引导的服务器之间 raid 配置有何不同

问题估计找到了：**正常服务器是先创建的 raid6 ，剩下的都是先创建的raid1**。

解决方案：

1. 系统需要重装：删除原先已经创建好的 raid，先创建系统使用的 raid6.
2. 系统无需重装：删除掉 raid1 ，保存后重新创建 raid1。这时，raid6 的顺位会比raid1高，系统就可以正常启动了

最终我们这边采取的是第二种方案