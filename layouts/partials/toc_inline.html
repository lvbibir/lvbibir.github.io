{{- $headers := findRE "<h[1-6].*?>(.|\n])+?</h[1-6]>" .Content -}}
{{- $has_headers := ge (len $headers) 1 -}}
{{- if $has_headers -}}

<div class="toc toc--inline">
    <details {{if (.Param "TocOpen") }} open{{ end }}>
        <summary>
            <span class="details">{{- i18n "toc" | default "Table of Contents" }}</span>
        </summary>

        {{- partial "toc_body.html" . -}}
    </details>
</div>

{{- end -}}

